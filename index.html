<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>App Corrida</title>
	<style>
		*{text-align: center; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;}
		.button{width: 60px;height: 50px;}
		.conteiner{margin: auto;width: 300px;}
		.numero {font-size: 20px;}
		.title1{font-size: 20px;}
		.title2{font-size: 30px;}
		.linha{ line-height: 30px; width:100%;font-size: 14px; margin: 3px; background-color: blanchedalmond;}
		#mais{display: none;}
		#stp{display: none;}
		#refresh{display: none;}
	</style>
</head>
<style>

</style>
	<body onload="time()">
		<div class="title2">Contador de Voltas</div>
	<label>Developer Paulo Rafael</label>
	<div class="conteiner">
		<div class="title1" id="txt"></div>
		<h2><time>00:00:00</time></h2>
		<button class="button" onclick="Comecar()" id="strt">Start</button>
		<button class="button" id="stp">Parar</button>  
		<button class="button" id="refresh">Reset</button>
		<p class="numero"><span id="numeroVoltas"></span>   <button style="width: 90px;height: 50px;" type="button" id="mais" onclick="mais()">Salvar Volta</button></p>
	</div>

	<script>
		var h2 = document.getElementsByTagName('h2')[0];
		var start = document.getElementById('strt');
		var stop = document.getElementById('stp');
		var sec = 0;
		var min = 0;
		var hrs = 0;
		var t;

		function tick(){
			sec++;
			if (sec >= 60) {
				sec = 0;
				min++;
				if (min >= 60) {
					min = 0;
					hrs++;
				}
			}
		}
		function add() {
			tick();
			
			h2.textContent = (hrs > 9 ? hrs : "0" + hrs) 
					+ ":" + (min > 9 ? min : "0" + min)
					+ ":" + (sec > 9 ? sec : "0" + sec);
			timer();
		}
		function timer() {
			t = setTimeout(add, 1000);
		}

	// Hora Atual
	function time(){
			today=new Date();
			h=today.getHours();
			m=today.getMinutes();
			s=today.getSeconds();
			var dia = today.getDate();
			var mes = (today.getMonth() + 1);
			var ano = today.getFullYear();
			date = dia +"/"+ mes +"/"+ ano + ' as ' +  h+":"+m+":"+s;
			document.getElementById('txt').innerHTML= date;
			setTimeout('time()',500);
	}		

	function Comecar() {
		timer();
		var Tag = document.createElement("div");
        Tag.innerHTML = "-- " +" Start "+ date +" - "+ " 0:0:0";
		console.log(hrs+":"+min+":"+sec)
        Tag.setAttribute('class', "linha");
        document.body.appendChild(Tag);
		document.getElementById("mais").style.display = "initial"; 
		document.getElementById("stp").style.display = "initial"; 
		document.getElementById("refresh").style.display = "initial";  
		document.getElementById("strt").style.display = "none";  
	}

	stop.onclick = function() {
		clearTimeout(t);
		document.getElementById("stp").style.display = "none"; 
	}

	//Atualizar Pagina
	var btn = document.querySelector("#refresh");
		btn.addEventListener("click", function() {
		location.reload();
	});


	value = 0
	if(value == 0){
		document.getElementById("numeroVoltas").innerHTML = " ";
	}else{
		document.getElementById("numeroVoltas").innerHTML = value;
	}



	function mais(){
		var demo_id = document.getElementById('numeroVoltas')
		if (value == 0){
			value = value + 1; 
			demo_id.value = value;
			demo_id.innerHTML = value + 'ยบ Volta' ;
			var Tag = document.createElement("div");
			Tag.innerHTML = value +"ยบ Volta Full "+ date +" - "+ hrs+":"+min+":"+sec;
			Tag.setAttribute('class', "linha");
			document.body.appendChild(Tag);
		}
		else
		{
			value = value + 1; 
			demo_id.value = value;
			demo_id.innerHTML = value + 'ยบ Volta' ;
			var Tag = document.createElement("div");
			Tag.innerHTML =value +"ยบ Volta Full "+ date + " - "+ hrs+":"+min+":"+sec;
			Tag.setAttribute('class', "linha");
			document.body.appendChild(Tag);
		}
	}
	</script>
</body>
</html>
